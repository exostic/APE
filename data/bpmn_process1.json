{"bpmnXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" id=\"Definitions_1\" targetNamespace=\"http://bpmn.io/schema/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"1.10.0\">\n  <bpmn:process id=\"Process_1\" name=\"Test process\" isExecutable=\"true\" camunda:versionTag=\"1.0\">\n    <bpmn:startEvent id=\"Start\" name=\"Start\">\n      <bpmn:outgoing>SequenceFlow_1e6vzx0</bpmn:outgoing>\n    </bpmn:startEvent>\n    <bpmn:endEvent id=\"End\" name=\"End\">\n      <bpmn:incoming>SequenceFlow_1wbh23c</bpmn:incoming>\n    </bpmn:endEvent>\n    <bpmn:serviceTask id=\"fetch\" name=\"Get weather\" camunda:expression=\"${services.query}\">\n      <bpmn:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"url\"><![CDATA[http://api.openweathermap.org/data/2.5/weather?q=Kazan,ru&appid=77326e53862fdda790be58656e73e36e&units=metric]]></camunda:inputParameter>\n        </camunda:inputOutput>\n      </bpmn:extensionElements>\n      <bpmn:incoming>SequenceFlow_1e6vzx0</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_0keajbd</bpmn:outgoing>\n    </bpmn:serviceTask>\n    <bpmn:sequenceFlow id=\"SequenceFlow_1e6vzx0\" sourceRef=\"Start\" targetRef=\"fetch\" />\n    <bpmn:exclusiveGateway id=\"ExclusiveGateway_18cywiu\">\n      <bpmn:incoming>SequenceFlow_0keajbd</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_1bpjuut</bpmn:outgoing>\n      <bpmn:outgoing>SequenceFlow_0qqaifb</bpmn:outgoing>\n    </bpmn:exclusiveGateway>\n    <bpmn:sequenceFlow id=\"SequenceFlow_1bpjuut\" name=\"Success\" sourceRef=\"ExclusiveGateway_18cywiu\" targetRef=\"parser\">\n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\" language=\"JavaScript\">variables.taskInput.fetch[0].status == 200</bpmn:conditionExpression>\n    </bpmn:sequenceFlow>\n    <bpmn:task id=\"Task_191bfws\" name=\"Error\">\n      <bpmn:incoming>SequenceFlow_0qqaifb</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_0qhxetn</bpmn:outgoing>\n    </bpmn:task>\n    <bpmn:exclusiveGateway id=\"ExclusiveGateway_0c57ix8\">\n      <bpmn:incoming>SequenceFlow_0qhxetn</bpmn:incoming>\n      <bpmn:incoming>SequenceFlow_1lrmfr8</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_12879j6</bpmn:outgoing>\n    </bpmn:exclusiveGateway>\n    <bpmn:sequenceFlow id=\"SequenceFlow_1lrmfr8\" sourceRef=\"logWeather\" targetRef=\"ExclusiveGateway_0c57ix8\" />\n    <bpmn:sequenceFlow id=\"SequenceFlow_0qqaifb\" name=\"Error\" sourceRef=\"ExclusiveGateway_18cywiu\" targetRef=\"Task_191bfws\">\n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\" language=\"JavaScript\">variables.taskInput.fetch[0].status != 200</bpmn:conditionExpression>\n    </bpmn:sequenceFlow>\n    <bpmn:sequenceFlow id=\"SequenceFlow_0qhxetn\" sourceRef=\"Task_191bfws\" targetRef=\"ExclusiveGateway_0c57ix8\" />\n    <bpmn:sequenceFlow id=\"SequenceFlow_0keajbd\" sourceRef=\"fetch\" targetRef=\"ExclusiveGateway_18cywiu\" />\n    <bpmn:serviceTask id=\"logWeather\" name=\"Show weather\" camunda:expression=\"${services.log}\">\n      <bpmn:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"input\">\n            <camunda:script scriptFormat=\"JavaScript\">variables.taskInput.parser[0]</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"title\">Current weather in Kazan:</camunda:inputParameter>\n        </camunda:inputOutput>\n      </bpmn:extensionElements>\n      <bpmn:incoming>SequenceFlow_0fpi01e</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_1lrmfr8</bpmn:outgoing>\n    </bpmn:serviceTask>\n    <bpmn:sequenceFlow id=\"SequenceFlow_0fpi01e\" sourceRef=\"parser\" targetRef=\"logWeather\" />\n    <bpmn:serviceTask id=\"parser\" name=\"Parse body\" camunda:expression=\"${services.parse}\">\n      <bpmn:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"type\">json</camunda:inputParameter>\n          <camunda:inputParameter name=\"search\">main.temp</camunda:inputParameter>\n          <camunda:inputParameter name=\"body\">${variables.taskInput.fetch[0].body}</camunda:inputParameter>\n        </camunda:inputOutput>\n      </bpmn:extensionElements>\n      <bpmn:incoming>SequenceFlow_1bpjuut</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_0fpi01e</bpmn:outgoing>\n    </bpmn:serviceTask>\n    <bpmn:parallelGateway id=\"parallel1\">\n      <bpmn:incoming>SequenceFlow_12879j6</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_0ob2x2o</bpmn:outgoing>\n      <bpmn:outgoing>SequenceFlow_1r11qu9</bpmn:outgoing>\n    </bpmn:parallelGateway>\n    <bpmn:sequenceFlow id=\"SequenceFlow_12879j6\" sourceRef=\"ExclusiveGateway_0c57ix8\" targetRef=\"parallel1\" />\n    <bpmn:sequenceFlow id=\"SequenceFlow_1k0nw85\" sourceRef=\"parallel2\" targetRef=\"BeforeEnd\" />\n    <bpmn:parallelGateway id=\"parallel2\">\n      <bpmn:incoming>SequenceFlow_15jqr0p</bpmn:incoming>\n      <bpmn:incoming>SequenceFlow_0661ugz</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_1k0nw85</bpmn:outgoing>\n    </bpmn:parallelGateway>\n    <bpmn:task id=\"ParallelTask1\" name=\"Parallel task\">\n      <bpmn:incoming>SequenceFlow_0ob2x2o</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_15jqr0p</bpmn:outgoing>\n    </bpmn:task>\n    <bpmn:sequenceFlow id=\"SequenceFlow_0ob2x2o\" sourceRef=\"parallel1\" targetRef=\"ParallelTask1\" />\n    <bpmn:sequenceFlow id=\"SequenceFlow_15jqr0p\" sourceRef=\"ParallelTask1\" targetRef=\"parallel2\" />\n    <bpmn:sequenceFlow id=\"SequenceFlow_1r11qu9\" sourceRef=\"parallel1\" targetRef=\"ParallelTask2\" />\n    <bpmn:sequenceFlow id=\"SequenceFlow_0661ugz\" sourceRef=\"ParallelTask2\" targetRef=\"parallel2\" />\n    <bpmn:serviceTask id=\"ParallelTask2\" name=\"Parallel task 2\" camunda:expression=\"${services.wait}\">\n      <bpmn:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"delay\">500</camunda:inputParameter>\n        </camunda:inputOutput>\n      </bpmn:extensionElements>\n      <bpmn:incoming>SequenceFlow_1r11qu9</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_0661ugz</bpmn:outgoing>\n    </bpmn:serviceTask>\n    <bpmn:task id=\"BeforeEnd\" name=\"Before end\">\n      <bpmn:incoming>SequenceFlow_1k0nw85</bpmn:incoming>\n      <bpmn:outgoing>SequenceFlow_1wbh23c</bpmn:outgoing>\n    </bpmn:task>\n    <bpmn:sequenceFlow id=\"SequenceFlow_1wbh23c\" sourceRef=\"BeforeEnd\" targetRef=\"End\" />\n  </bpmn:process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\">\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"Start\">\n        <dc:Bounds x=\"-38\" y=\"136\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"-32\" y=\"172\" width=\"24\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"End_di\" bpmnElement=\"End\">\n        <dc:Bounds x=\"1603\" y=\"136\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1611\" y=\"172\" width=\"20\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0f82927_di\" bpmnElement=\"fetch\">\n        <dc:Bounds x=\"80\" y=\"114\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1e6vzx0_di\" bpmnElement=\"SequenceFlow_1e6vzx0\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"-2\" y=\"154\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"80\" y=\"154\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"-6\" y=\"132.5\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ExclusiveGateway_18cywiu_di\" bpmnElement=\"ExclusiveGateway_18cywiu\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"285\" y=\"129\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"265\" y=\"182\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1bpjuut_di\" bpmnElement=\"SequenceFlow_1bpjuut\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"310\" y=\"129\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"310\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"402\" y=\"16\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"300.94852154011386\" y=\"26.318724497375598\" width=\"42\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"Task_191bfws_di\" bpmnElement=\"Task_191bfws\">\n        <dc:Bounds x=\"474\" y=\"234\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ExclusiveGateway_0c57ix8_di\" bpmnElement=\"ExclusiveGateway_0c57ix8\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"743.5368421052632\" y=\"129\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"768.5368421052632\" y=\"182\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1lrmfr8_di\" bpmnElement=\"SequenceFlow_1lrmfr8\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"714\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"769\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"769\" y=\"129\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"696.5\" y=\"-5.5\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0qqaifb_di\" bpmnElement=\"SequenceFlow_0qqaifb\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"310\" y=\"179\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"310\" y=\"274\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"474\" y=\"274\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"314\" y=\"219.50520833333334\" width=\"25\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0qhxetn_di\" bpmnElement=\"SequenceFlow_0qhxetn\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"574\" y=\"274\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"769\" y=\"274\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"769\" y=\"179\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"626.5\" y=\"252.5\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0keajbd_di\" bpmnElement=\"SequenceFlow_0keajbd\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"180\" y=\"154\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"285\" y=\"154\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"187.5\" y=\"132.5\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tgjrip_di\" bpmnElement=\"logWeather\">\n        <dc:Bounds x=\"614\" y=\"-24\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0fpi01e_di\" bpmnElement=\"SequenceFlow_0fpi01e\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"502\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"614\" y=\"16\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"558\" y=\"-5.5\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_1dp7he2_di\" bpmnElement=\"parser\">\n        <dc:Bounds x=\"402\" y=\"-24\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ParallelGateway_0vya85o_di\" bpmnElement=\"parallel1\">\n        <dc:Bounds x=\"915\" y=\"129\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"939.7380352644836\" y=\"182\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_12879j6_di\" bpmnElement=\"SequenceFlow_12879j6\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"794\" y=\"154\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"915\" y=\"154\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"854.5\" y=\"132\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1k0nw85_di\" bpmnElement=\"SequenceFlow_1k0nw85\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1238\" y=\"154\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1357\" y=\"154\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1297.5\" y=\"132.5\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ParallelGateway_0qa6tr3_di\" bpmnElement=\"parallel2\">\n        <dc:Bounds x=\"1188\" y=\"129\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1212.6769087523278\" y=\"182\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Task_07yjgjy_di\" bpmnElement=\"ParallelTask1\">\n        <dc:Bounds x=\"1039.6769087523278\" y=\"-24\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0ob2x2o_di\" bpmnElement=\"SequenceFlow_0ob2x2o\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"940\" y=\"154\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"940\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1040\" y=\"16\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"955\" y=\"78.5\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_15jqr0p_di\" bpmnElement=\"SequenceFlow_15jqr0p\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1140\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1213\" y=\"16\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1213\" y=\"129\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1176.5\" y=\"-5.5\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1r11qu9_di\" bpmnElement=\"SequenceFlow_1r11qu9\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"940\" y=\"179\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"940\" y=\"274\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1040\" y=\"274\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"955\" y=\"220\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0661ugz_di\" bpmnElement=\"SequenceFlow_0661ugz\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1140\" y=\"274\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1213\" y=\"274\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1213\" y=\"179\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1176.5\" y=\"252.5\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_08wfvgw_di\" bpmnElement=\"ParallelTask2\">\n        <dc:Bounds x=\"1040\" y=\"234\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"Task_0jc4187_di\" bpmnElement=\"BeforeEnd\">\n        <dc:Bounds x=\"1357.3612368024133\" y=\"114\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1wbh23c_di\" bpmnElement=\"SequenceFlow_1wbh23c\">\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1457\" y=\"154\" />\n        <di:waypoint xsi:type=\"dc:Point\" x=\"1603\" y=\"154\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1530\" y=\"132.5\" width=\"0\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn:definitions>\n","payload":{}}